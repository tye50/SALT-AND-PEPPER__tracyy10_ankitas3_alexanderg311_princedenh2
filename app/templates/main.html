<!DOCTYPE HTML>

    <head>
        <title> Fakeout [MAIN] </title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3.layout.cloud.js"></script>
        <script src="https://d3js.org/d3.v4.min.js"></script>
    
    
    </head>
    <body class="text-primary-emphasis bg-secondary-subtle">
        <nav class="pe-3 navbar navbar-dark bg-dark rounded-bottom text-white">
            <a class="navbar-brand fs-2 href="#">
                <img src="static/images/salt_shaker.png" width="50" height="50" style="transform: rotate(20deg);" class="d-inline-block align-top" alt="">
                SALT&PEPPER
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="ps-3 navbar-nav">
                    <a class="nav-item nav-link active" href="/">Home</a>
                    <a class="nav-item nav-link" href="/dashboard">Dashboard</a>
                    <a class="nav-item nav-link" href="/analyze">Analyze</a>
                    <a class="nav-item nav-link" href="/search">Search</a>
                    <a class="nav-item nav-link" href="/generate">Generate</a>
                </div>
            </div>
        </nav>
        
        <div class="container-fluid mx-auto" style="text-align: center">
            <br><br><br>
            
            <form action="/register">
                Please create an acocunt to access more functions.<br>
                <input type="submit" value="Register">
            </form>
            <br>
            Already have an account? <a href="/login">Log in</a> here.
        </div>

        <div id="wordCount"></div>
        
        <div class="p-3">
            {% for i in words %}
                {{i[0]}}, {{i[1]}}, {{i[2]}}
                <br>
            {% endfor %}
        </div>
    </body>
    <script>
        d3.json("https://ankita320.github.io/S-P-JSON-FILE/pleasework.json", (function(d) {
          const ran = [...d].sort(() => 0.5 - Math.random());
          const com = ran.slice(0, 30)
          console.log(com) 
          
          const margin = {top: 20, right: 20, bottom: 20, left: 20},
              width = 600 - margin.left - margin.right,
              height = 300 - margin.top - margin.bottom;
          
      
          const svg = d3.select("#wordCount").append("svg")
              .attr("width", width + margin.left + margin.right)
              .attr("height", height + margin.top + margin.bottom)
            .append("g")
              .attr("transform",
                    "translate(" + margin.left + "," + margin.top + ")");
          
        
          const layout = d3.layout.cloud()
            .size([width, height])
            .words(com.map(function(d) { return {text: d.name, size:d.count, color:d.color}; }))
            .padding(5)        //space between words
            .rotate(function() { return ~~(Math.random() * 2) * 90; })
            .fontSize(function(d) { return d.size; })      // font size of words
            .on("end", draw);
          layout.start();
          
          function draw(words) {
            svg
              .append("g")
                .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")")
                .selectAll("text")
                  .data(words)
                .enter().append("text")
                  .style("font-size", function(d) { return d.size; })
                  .style("fill", function(d) { return d.color; })
                  .attr("text-anchor", "middle")
                  .style("font-family", "Impact")
                  .attr("transform", function(d) {
                    return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                  })
                  .text(function(d) { return d.text; });
                }
          }));
      
      
          
      
          </script>
    
</HTML>